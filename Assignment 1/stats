#!/bin/bash
FILE=$2
TEMPFILE="$$.tmp"
declare -i ROW=0;
declare -i COL=0;

#Checks if File can be found
checkValidFile()
{
    if [ ! -f $FILE ]; then
        echo "$0 cannot read $FILE";
        exit 1;
    fi
}

DimensionsUtil()
{
    ROW=$(cut -f 1 $FILE | wc -l);
    COL=$(head -n 1 $FILE | tr '\t' '\n' | wc -l);

    echo "ROW: $ROW";
    echo "COL: $COL";
}

FillFileRow()
{
    while read line; 
    do
        echo $( for i in $line; do echo -e "$i\t";done | sort -n ) | tr ' ' '\t' #>> $TEMPFILE
    done < $FILE;
}

FillFileCol()
{
    echo "fuck";
}

Cleanup()
{
    rm $TEMPFILE;
}

rows_func() 
{
    checkValidFile;
    DimensionsUtil;
    
    FillFileRow;
    

    echo -e "Average\tMedian";


}

cols_func()
{
    checkValidFile; 
    DimensionsUtil;

    FillFileCol;

    #Averages logic

    #Median logic

    #printArray;
}

#Main
if [ "$#" -gt 2 ] || [ "$#" -lt 1 ]
then
    echo "$0 {-rows|-cols} [file]" >&2
    exit 1;
fi
if [[ "$1" == -r* ]]
then
    rows_func;
    exit 0;
elif [[ "$1" == -c* ]] 
then
    cols_func;
    exit 0;
else
    echo "$0 {-rows|-cols} [file]" >&2
    exit 1;
fi
